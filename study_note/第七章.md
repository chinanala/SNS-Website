# 项目进阶，使用字典树过滤敏感词

## 1. 字典树(Trie)

### 介绍

  字典树又称单词查找树，Trie树，是一种树形结构，是一种哈希树的变种。典型应用是用于统计，排序和保存大量的字符串（但不仅限于字符串），所以经常被搜索引擎系统用于文本词频统计。它的优点是：利用字符串的公共前缀来减少查询时间，最大限度地减少无谓的字符串比较，查询效率比哈希树高。



### 实现步骤

* 1、首先指针 p1 指向 root，指针 p2 和 p3 指向字符串第一个字符

  ![img](https://user-gold-cdn.xitu.io/2019/5/7/16a9241249414d30?w=950&h=509&f=png&s=34588)

  2、然后从字符串的 a 开始，检测有没有以 a 作为前缀的敏感词，直接判断 p1 的孩子节点中是否有 a 这个节点就可以了，显然这里没有。接着把指针 p2 和 p3 向右移动一格。

  ![img](https://user-gold-cdn.xitu.io/2019/5/7/16a9243c3fe2e11c?w=914&h=405&f=png&s=32150)

  3、然后从字符串 b 开始查找，看看是否有以 b 作为前缀的字符串，p1 的孩子节点中有 b，这时，**我们把 p1 指向节点 b，p2 向右移动一格，不过，p3不动。**

  ![img](https://user-gold-cdn.xitu.io/2019/5/7/16a92475d7f0be9d?w=926&h=413&f=png&s=32744)

  4、判断 p1 的孩子节点中是否存在 p2 指向的字符c，显然有。我们把 p1 指向节点 c，p2 向右移动一格，p3不动。

  ![img](https://user-gold-cdn.xitu.io/2019/5/7/16a92496237eb3cf?w=919&h=412&f=png&s=32450)

  5、判断 p1 的孩子节点中是否存在 p2 指向的字符d，这里没有。这意味着，**不存在以字符b作为前缀的敏感词**。这时我们把p2和p3都移向字符c，p1 还是还原到最开始指向 root。

  ![img](https://user-gold-cdn.xitu.io/2019/5/7/16a924bda72bba94?w=1019&h=400&f=png&s=33486)

  6、和前面的步骤一样，判断有没以 c 作为前缀的字符串，显然这里没有，所以把 p2 和 p3 移到字符 d。

  ![img](https://user-gold-cdn.xitu.io/2019/5/7/16a924cf1a5d0009?w=980&h=483&f=png&s=35107)

  7、然后从字符串 d 开始查找，看看是否有以 d 作为前缀的字符串，p1 的孩子节点中有 d，这时，**我们把 p1 指向节点 b，p2 向右移动一格，不过，p3和刚才一样不动。**（看到这里，我猜你已经懂了）

  ![img](https://user-gold-cdn.xitu.io/2019/5/7/16a924e6fa468db5?w=1046&h=375&f=png&s=33005)

  8、判断 p1 的孩子节点中是否存在 p2 指向的字符e，显然有。我们把 p1 指向节点 e，**并且，这里e是最后一个节点了，查找结束，所以存在敏感词de**，即 p3 和 p2 这个区间指向的就是敏感词了，把 p2 和 p3 指向的区间那些字符替换成 *。并且把 p2 和 p3 移向字符 f。如下：

  ![img](https://user-gold-cdn.xitu.io/2019/5/7/16a9251b45b50014?w=954&h=422&f=png&s=33004)

  9、接着还是重复同样的步骤，知道 p3 指向最后一个字符。
